<!doctype html>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
&quot;License&quot;); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<!-- Generated by FreeMarker/Docgen from DocBook -->
<html lang="en" class="page-type-section">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<title>2.3.34 - Apache FreeMarker Manual</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="format-detection" content="telephone=no">
<meta property="og:site_name" content="Apache FreeMarker Manual">
<meta property="og:title" content="2.3.34">
<meta property="og:locale" content="en_US">
<meta property="og:url" content="https://freemarker.apache.org/docs/versions_2_3_34.html">
<link rel="canonical" href="https://freemarker.apache.org/docs/versions_2_3_34.html">
<link rel="icon" href="favicon.png" type="image/png">
<link rel="stylesheet" type="text/css" href="docgen-resources/docgen.min.css?1733668180715">
</head>
<body itemscope itemtype="https://schema.org/Code">
    <meta itemprop="url" content="https://freemarker.apache.org/docs/">
    <meta itemprop="name" content="Apache FreeMarker Manual">

  <!--[if lte IE 9]>
  <div class="oldBrowserWarning" style="display: block">
    Unsupported web browser - Use a modern browser to view this website!
  </div>
  <![endif]-->  <div class="oldBrowserWarning">
    Unsupported web browser - Use a modern browser to view this website!
  </div>
<div class="header-top-bg"><div class="site-width header-top"><div id="hamburger-menu" role="button"></div>          <div class="logo">
<a href="https://freemarker.apache.org" role="banner"><img itemprop="image" src="logo.png" alt="FreeMarker"></a>          </div>
<ul class="tabs"><li><a href="https://freemarker.apache.org/">Home</a></li><li class="current"><a href="index.html">Manual</a></li><li><a class="external" href="api/index.html">Java API</a></li></ul><ul class="secondary-tabs"><li><a class="tab icon-heart" href="https://freemarker.apache.org/contribute.html" title="Contribute"><span>Contribute</span></a></li><li><a class="tab icon-bug" href="https://issues.apache.org/jira/projects/FREEMARKER" title="Report a Bug"><span>Report a Bug</span></a></li><li><a class="tab icon-download" href="https://freemarker.apache.org/freemarkerdownload.html" title="Download"><span>Download</span></a></li></ul></div></div><div class="header-bottom-bg"><div class="site-width search-row"><a href="toc.html" class="navigation-header">Manual</a><div class="navigation-header"></div></div><div class="site-width breadcrumb-row">  <div class="breadcrumbs">
<ul class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"><li class="step-0" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="label" itemprop="item" href="toc.html"><span itemprop="name">Apache FreeMarker Manual</span></a></li><li class="step-1" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="label" itemprop="item" href="app.html"><span itemprop="name">Appendixes</span></a></li><li class="step-2" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="label" itemprop="item" href="app_versions.html"><span itemprop="name">Version history</span></a></li><li class="step-3" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="label" itemprop="item" href="versions_2_3_34.html"><span itemprop="name">2.3.34</span></a></li></ul>  </div>
<div class="bookmarks" title="Bookmarks"><span class="sr-only">Bookmarks:</span><ul><li><a href="alphaidx.html">Alpha. index</a></li><li><a href="gloss.html">Glossary</a></li><li><a href="dgui_template_exp.html#exp_cheatsheet">Expressions</a></li><li><a href="ref_builtins_alphaidx.html">?builtins</a></li><li><a href="ref_directive_alphaidx.html">#directives</a></li><li><a href="ref_specvar.html">.spec_vars</a></li><li><a href="app_faq.html">FAQ</a></li></ul></div></div></div>    <div class="main-content site-width">
      <div class="content-wrapper">
  <div id="table-of-contents-wrapper" class="col-left">
      <script>var breadcrumb = ["Apache FreeMarker Manual","Appendixes","Version history","2.3.34"];</script>
      <script src="toc.js?1733668180715"></script>
      <script src="docgen-resources/main.min.js?1733668180715"></script>
  </div>
<div class="col-right"><div class="page-content"><div class="page-title"><div class="pagers top"><a class="paging-arrow previous" href="app_versions.html"><span>Previous</span></a><a class="paging-arrow next" href="versions_2_3_33.html"><span>Next</span></a></div><div class="title-wrapper">
<h1 class="content-header header-section1" id="versions_2_3_34" itemprop="headline">2.3.34</h1>
</div></div><div class="page-menu">
<div class="page-menu-title">Page Contents</div>
<ul><li><a class="page-menu-link" href="#autoid_150" data-menu-target="autoid_150">Changes on the FTL side</a></li><li><a class="page-menu-link" href="#autoid_151" data-menu-target="autoid_151">Changes on the Java side</a></li></ul> </div><p>Release date: 2024-12-08 + release process</p>
          



<h2 class="content-header header-section2" id="autoid_150">Changes on the FTL side</h2>


          <ul>
            <li>
              <p><a href="https://github.com/apache/freemarker/pull/114">GitHub
              PR-114:</a> Added <code class="inline-code">#on</code> directive that&#39;s now
              recommended instead of <code class="inline-code">#case</code> inside
              <code class="inline-code">#switch</code>. It has no fall-through, so you need
              not, and must not use <code class="inline-code">#break</code> like you did
              with <code class="inline-code">#case</code>. Also, <code class="inline-code">#on</code> can
              have a list of matching values, so you can use <code class="inline-code">&lt;#on
              1, 2, 3&gt;Was 1-3</code> instead of <code class="inline-code">&lt;#case
              1&gt;&lt;#case 2&gt;&lt;#case 3&gt;Was
              1-3&lt;#break&gt;</code> See more <a href="ref_directive_switch.html#ref.directive.switch">here...</a></p>
            </li>

            <li>
              <p><a href="https://github.com/apache/freemarker/pull/111">GitHub
              PR-111:</a> Added new built-ins that allow handling empty or
              blank strings the same way as if they were missing values (Java
              <code class="inline-code">null</code>-s): <a href="ref_builtins_string.html#ref_builtin_blank_to_null"><code><em>stringOrMissing?</em>blank_to_null</code></a>,
              <a href="ref_builtins_string.html#ref_builtin_blank_to_null"><code><em>stringOrMissing?</em>empty_to_null</code></a>,
              <a href="ref_builtins_string.html#ref_builtin_trim_to_null"><code><em>stringOrMissing?</em>trim_to_null</code></a>.
              For example, if somewhere you had <code class="inline-code">${user.fullName!&#39;Not
              specified&#39;}</code>, but then you realize that sometimes
              <code class="inline-code">user.fullName</code> is a blank string (and hence
              the default value is not used), you can write
              <code class="inline-code">${user.fullName?blank_to_null!&#39;Not
              specified&#39;}</code>.</p>
            </li>

            <li>
              <p><a href="https://github.com/apache/freemarker/pull/119">GitHub
              PR-119</a>: Fixed bug if you set the <a href="pgui_config_incompatible_improvements.html#pgui_config_incompatible_improvements_how_to_set"><code>incompatible_improvements</code>
              setting</a> to 2.3.34 or higher: Both
              <code class="inline-code">[#sep]</code>, <code class="inline-code">&lt;#sep&gt;</code>, and
              <code class="inline-code">&lt;sep&gt;</code> were all interpreted as a call to
              the <code class="inline-code">sep</code> directive, regardless if the already
              established tag syntax was angle bracket or square bracket tags,
              or if the tag syntax was "strict" (requiring
              <code class="inline-code">#</code>) or not. With this fix enabled via
              <code class="inline-code">incompatible_improvements</code>, a
              <code class="inline-code">sep</code> with the tag syntax that doesn&#39;t match
              the configured/estabilished tag syntax will be seen as just
              static text, just as it&#39;s done for any other FTL tags.</p>
            </li>

            <li>
              <p><a href="https://issues.apache.org/jira/browse/FREEMARKER-227">FREEMARKER-227</a>:
              Fixed bug, where if <code class="inline-code">classic_compatible</code> mode
              was <code class="inline-code">true</code> (rarely used), then sequence
              built-ins, like
              <code class="inline-code"><em class="code-color">seq</em>?seq_contains(<em class="code-color">value</em>)</code>,
              has failed with <code class="inline-code">NullPointerException</code> if
              values of incompatible types had to be compared. The intended
              behavior is to convert the values to string, and then compare
              them (to mimic the behavior of FreeMarker 1.x).</p>
            </li>
          </ul>
        
          



<h2 class="content-header header-section2" id="autoid_151">Changes on the Java side</h2>


          <ul>
            <li>
              <p><a href="https://github.com/apache/freemarker/pull/110">GitHub
              PR-110</a>: Using multi-release JAR format (JEP 238) to put
              Java 9 and Java 16 support files
              (<code class="inline-code">freemarker.core._Java9Impl</code> and
              <code class="inline-code">_Java16Impl</code>) into
              <code class="inline-code">freemarker.jar</code>. This means that they are now
              under <code class="inline-code">META-INF/versions/9</code> and
              <code class="inline-code">16</code>, instead of in the usual location together
              with Java 8 byte code class files. This was needed as some
              tools, like Maven Enforcer plugin, have seen them as problems
              otherwise. Also, now we don&#39;t look for the
              <code class="inline-code">_Java<em class="code-color">X</em>Impl</code> classes
              with <code class="inline-code">Class.forName(String)</code>, instead we just
              refer them normally, as now Java will link to the proper variant
              according the multi-release JAR format. This can help if some
              environment doesn&#39;t support class loading on runtime (however,
              then you still will have problems with other optional
              features).</p>
            </li>
          </ul>
        <div class="bottom-pagers-wrapper"><div class="pagers bottom"><a class="paging-arrow previous" href="app_versions.html"><span>Previous</span></a><a class="paging-arrow next" href="versions_2_3_33.html"><span>Next</span></a></div></div></div></div>      </div>
    </div>
<div class="site-footer"><div class="site-width"><div class="footer-top"><div class="col-left sitemap"><div class="column"><h3 class="column-header">Overview</h3><ul><li><a href="https://freemarker.apache.org/">What is FreeMarker?</a></li><li><a href="https://freemarker.apache.org/freemarkerdownload.html">Download</a></li><li><a href="app_versions.html">Version history</a></li><li><a href="app_faq.html">FAQ</a></li><li><a itemprop="license" href="app_license.html">License</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy policy</a></li></ul></div><div class="column"><h3 class="column-header">Often used / Reference</h3><ul><li><a href="https://try.freemarker.apache.org/">Try template online</a></li><li><a href="dgui_template_exp.html#exp_cheatsheet">Expressions cheatsheet</a></li><li><a href="ref_directive_alphaidx.html">#directives</a></li><li><a href="ref_builtins_alphaidx.html">?built_ins</a></li><li><a href="ref_specvar.html">.special_vars</a></li><li><a href="api/freemarker/core/Configurable.html#setSetting-java.lang.String-java.lang.String-">Configuration settings</a></li></ul></div><div class="column"><h3 class="column-header">Community</h3><ul><li><a href="https://github.com/apache/freemarker">Github project page</a></li><li><a href="https://issues.apache.org/jira/projects/FREEMARKER">Report a bug</a></li><li><a href="https://freemarker.apache.org/report-security-vulnerabilities.html">Report security vulnerability</a></li><li><a href="https://stackoverflow.com/questions/ask?tags=freemarker">Get help on StackOverflow</a></li><li><a href="https://twitter.com/freemarker">Announcements on Twitter</a></li><li><a href="https://freemarker.apache.org/mailing-lists.html">Discuss on mailing lists</a></li></ul></div></div><div class="col-right"><ul class="social-icons"><li><a class="github" href="https://github.com/apache/freemarker">Github</a></li><li><a class="twitter" href="https://twitter.com/freemarker">Twitter</a></li><li><a class="stack-overflow" href="https://stackoverflow.com/questions/ask?tags=freemarker">Stack Overflow</a></li></ul><a class="xxe" href="http://www.xmlmind.com/xmleditor/" rel="nofollow" title="Edited with XMLMind XML Editor"><span>Edited with XMLMind XML Editor</span></a></div></div><div class="footer-bottom"> <p class="last-generated">
Last generated:
<time itemprop="dateModified" datetime="2024-12-08T14:29:40Z" title="Sunday, December 8, 2024 at 2:29:40 PM Greenwich Mean Time">2024-12-08 14:29:40 GMT</time>, for Freemarker 2.3.34 </p>
<p class="copyright">
© <span itemprop="copyrightYear">1999</span>–2024
<a itemtype="http://schema.org/Organization" itemprop="copyrightHolder" href="https://apache.org/">The Apache Software Foundation</a>. Apache FreeMarker, FreeMarker, Apache Incubator, Apache, the Apache FreeMarker logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p>
</div></div></div></body>
</html>
