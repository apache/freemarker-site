<!doctype html>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
&quot;License&quot;); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
&quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<!-- Generated by FreeMarker/Docgen from DocBook -->
<html lang="en" class="page-type-section">
<head prefix="og: http://ogp.me/ns#">
<meta charset="utf-8">
<title>switch, on, case, default, break - Apache FreeMarker Manual</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="format-detection" content="telephone=no">
<meta property="og:site_name" content="Apache FreeMarker Manual">
<meta property="og:title" content="switch, on, case, default, break">
<meta property="og:locale" content="en_US">
<meta property="og:url" content="https://freemarker.apache.org/docs/ref_directive_switch.html">
<link rel="canonical" href="https://freemarker.apache.org/docs/ref_directive_switch.html">
<link rel="icon" href="favicon.png" type="image/png">
<link rel="stylesheet" type="text/css" href="docgen-resources/docgen.min.css?1733668180715">
</head>
<body itemscope itemtype="https://schema.org/Code">
    <meta itemprop="url" content="https://freemarker.apache.org/docs/">
    <meta itemprop="name" content="Apache FreeMarker Manual">

  <!--[if lte IE 9]>
  <div class="oldBrowserWarning" style="display: block">
    Unsupported web browser - Use a modern browser to view this website!
  </div>
  <![endif]-->  <div class="oldBrowserWarning">
    Unsupported web browser - Use a modern browser to view this website!
  </div>
<div class="header-top-bg"><div class="site-width header-top"><div id="hamburger-menu" role="button"></div>          <div class="logo">
<a href="https://freemarker.apache.org" role="banner"><img itemprop="image" src="logo.png" alt="FreeMarker"></a>          </div>
<ul class="tabs"><li><a href="https://freemarker.apache.org/">Home</a></li><li class="current"><a href="index.html">Manual</a></li><li><a class="external" href="api/index.html">Java API</a></li></ul><ul class="secondary-tabs"><li><a class="tab icon-heart" href="https://freemarker.apache.org/contribute.html" title="Contribute"><span>Contribute</span></a></li><li><a class="tab icon-bug" href="https://issues.apache.org/jira/projects/FREEMARKER" title="Report a Bug"><span>Report a Bug</span></a></li><li><a class="tab icon-download" href="https://freemarker.apache.org/freemarkerdownload.html" title="Download"><span>Download</span></a></li></ul></div></div><div class="header-bottom-bg"><div class="site-width search-row"><a href="toc.html" class="navigation-header">Manual</a><div class="navigation-header"></div></div><div class="site-width breadcrumb-row">  <div class="breadcrumbs">
<ul class="breadcrumb" itemscope itemtype="http://schema.org/BreadcrumbList"><li class="step-0" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="label" itemprop="item" href="toc.html"><span itemprop="name">Apache FreeMarker Manual</span></a></li><li class="step-1" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="label" itemprop="item" href="ref.html"><span itemprop="name">Template Language Reference</span></a></li><li class="step-2" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="label" itemprop="item" href="ref_directives.html"><span itemprop="name">Directive Reference</span></a></li><li class="step-3" itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem"><a class="label" itemprop="item" href="ref_directive_switch.html"><span itemprop="name">switch, on, case, default, break</span></a></li></ul>  </div>
<div class="bookmarks" title="Bookmarks"><span class="sr-only">Bookmarks:</span><ul><li><a href="alphaidx.html">Alpha. index</a></li><li><a href="gloss.html">Glossary</a></li><li><a href="dgui_template_exp.html#exp_cheatsheet">Expressions</a></li><li><a href="ref_builtins_alphaidx.html">?builtins</a></li><li><a href="ref_directive_alphaidx.html">#directives</a></li><li><a href="ref_specvar.html">.spec_vars</a></li><li><a href="app_faq.html">FAQ</a></li></ul></div></div></div>    <div class="main-content site-width">
      <div class="content-wrapper">
  <div id="table-of-contents-wrapper" class="col-left">
      <script>var breadcrumb = ["Apache FreeMarker Manual","Template Language Reference","Directive Reference","switch, on, case, default, break"];</script>
      <script src="toc.js?1733668180715"></script>
      <script src="docgen-resources/main.min.js?1733668180715"></script>
  </div>
<div class="col-right"><div class="page-content"><div class="page-title"><div class="pagers top"><a class="paging-arrow previous" href="ref_directive_stop.html"><span>Previous</span></a><a class="paging-arrow next" href="ref_directive_t.html"><span>Next</span></a></div><div class="title-wrapper">
<h1 class="content-header header-section1" id="ref_directive_switch" itemprop="headline">switch, on, case, default, break</h1>
</div></div><div class="page-menu">
<div class="page-menu-title">Page Contents</div>
<ul><li><a class="page-menu-link" href="#autoid_124" data-menu-target="autoid_124">Synopsis</a></li><li><a class="page-menu-link" href="#autoid_125" data-menu-target="autoid_125">Description</a></li></ul> </div><a name="ref.directive.switch"></a><a name="ref.directive.case"></a><a name="ref.directive.on"></a><a name="ref.directive.default"></a><a name="ref.directive.switch.break"></a>
          



<h2 class="content-header header-section2" id="autoid_124">Synopsis</h2>


          <p>Recommended form (<code class="inline-code">on</code>-based), but this is
          <strong>only supported since FreeMarker
          2.3.34</strong>:</p>

          
<pre class="metaTemplate"><code class="inline-code">&lt;#switch <em class="code-color">value</em>&gt;
  &lt;#on <em class="code-color">refValue1</em>&gt;
    <em class="code-color">... (Handles refValue1)</em>
  &lt;#on <em class="code-color">refValue2, refValue3</em>&gt;
    <em class="code-color">... (Handles both refValue2 and refValue3)</em>)
  <em class="code-color">...</em>
  &lt;#case <em class="code-color">refValueN</em>&gt;
    <em class="code-color">...</em>
    &lt;#break&gt;
  &lt;#default&gt;
    <em class="code-color">...</em>
&lt;/#switch&gt;</code></pre>


          <p>Deprecated legacy form (<code class="inline-code">case</code>-based):</p>

          
<pre class="metaTemplate"><code class="inline-code">&lt;#switch <em class="code-color">value</em>&gt;
  &lt;#case <em class="code-color">refValue1</em>&gt;
    <em class="code-color">... (Handles refValue1)</em>
    &lt;#break&gt;
  &lt;#case <em class="code-color">refValue2</em>&gt;
  &lt;#case <em class="code-color">refValue3</em>&gt;
    <em class="code-color">... (Handles both refValue2 and refValue3)</em>
    &lt;#break&gt;
  <em class="code-color">...</em>
  &lt;#case <em class="code-color">refValueN</em>&gt;
    <em class="code-color">...</em>
    &lt;#break&gt;
  &lt;#default&gt;
    <em class="code-color">...</em>
&lt;/#switch&gt;</code></pre>


          <p>Where:</p>

          <ul>
            <li>
              <code class="inline-code"><em class="code-color">value</em></code>,
              <code class="inline-code"><em class="code-color">refValue1</em></code>, etc.:
              Expressions evaluates to scalars of the same type.
            </li>
          </ul>

          <p>Additional rules:</p>

          <ul>
            <li>
              <p>A <code class="inline-code">switch</code> block either have
              <code class="inline-code">on</code>-s, or <code class="inline-code">case</code>-s, but not
              both.</p>
            </li>

            <li>
              <p><code class="inline-code">default</code>: Optional, can occur at most
              once. Must be after the <code class="inline-code">on</code>-s. There&#39;s no
              ordering restriction when used with
              <code class="inline-code">case</code>-s.</p>
            </li>

            <li>
              <p><code class="inline-code">break</code>:</p>

              <ul>
                <li>
                  <p>If the <code class="inline-code">switch</code> uses
                  <code class="inline-code">case</code> then <code class="inline-code">break</code>
                  immediately exits from the closes enclosing
                  <code class="inline-code">switch</code>. This is used to prevent
                  fall-through into the next <code class="inline-code">case</code>, or into
                  the following (adjacent) <code class="inline-code">default</code>. (To be
                  precise, <code class="inline-code">break</code> behaves as described if
                  the <code class="inline-code">switch</code> doesn&#39;t contain
                  <code class="inline-code">on</code>, and thus also if all it contains is a
                  <code class="inline-code">default</code>.)</p>
                </li>

                <li>
                  <p>If the <code class="inline-code">switch</code> uses
                  <code class="inline-code">on</code> then <code class="inline-code">break</code> is not
                  supported by <code class="inline-code">switch</code> directly, but
                  naturally can be used when the <code class="inline-code">switch</code> is
                  inside something else that supports <code class="inline-code">break</code>
                  (like inside a <a href="ref_directive_list.html#ref.directive.list">list</a>).</p>
                </li>

                <li>
                  <p>With <code class="inline-code">case</code>,
                  <code class="inline-code">continue</code> does the same as
                  <code class="inline-code">break</code>. This is an old bug that works for
                  backward compatibility, but don&#39;t utilize it. With
                  <code class="inline-code">on</code>, this is fixed.</p>
                </li>
              </ul>
            </li>
          </ul>
        
          



<h2 class="content-header header-section2" id="autoid_125">Description</h2>


            <div class="callout note">
    <strong class="callout-label">Note:</strong>

            <p>Using this directive with <code class="inline-code">case</code> is not
            recommended, as it&#39;s error-prone because of the fall-through
            behavior. Starting from FreeMarker 2.3.34, use
            <code class="inline-code">on</code> instead of <code class="inline-code">case</code>. In
            earlier versions use <a href="ref_directive_if.html#ref.directive.elseif"><code>elseif</code></a>-s
            instead.</p>
            </div>


          <p>Switch is used to choose a fragment of template depending on
          the value of an expression, and is a shorthand instead using <a href="ref_directive_if.html#ref.directive.if"><code>if</code>-<code>elseif</code>-<code>else</code></a>:</p>

          

    <div class="code-block role-template">
<div class="code-block-label">Template</div><pre class="code-block-body">&lt;#switch animal.size&gt;
  &lt;#on &quot;small&quot;&gt;
     Processed if animal.size was &quot;small&quot; 
  &lt;#on &quot;medium&quot;&gt;
     Processed if animal.size was &quot;medium&quot; 
  &lt;#on &quot;large&quot;, &quot;extra large&quot;&gt;
     Processed if animal.size was &quot;large&quot; or &quot;extra large&quot;
  &lt;#default&gt;
     Processed if animal.size is neither of the above
&lt;/#switch&gt;</pre>    </div>


          <p>Before FreeMarker 2.3.24, <code class="inline-code">on</code> wasn&#39;t
          supported, only <code class="inline-code">case</code> (note the usage of
          <code class="inline-code">break</code>, and the intentional omission of it after
          <code class="inline-code">&lt;#case &quot;large&quot;&gt;</code>):</p>

          

    <div class="code-block role-template">
<div class="code-block-label">Template</div><pre class="code-block-body">&lt;#switch animal.size&gt;
  &lt;#case &quot;small&quot;&gt;
     Processed if animal.size was &quot;small&quot; 
     &lt;#break&gt;
  &lt;#case &quot;medium&quot;&gt;
     Processed if animal.size was &quot;medium&quot; 
     &lt;#break&gt;
  &lt;#case &quot;large&quot;&gt;
  &lt;#case &quot;extra large&quot;&gt;
     Processed if animal.size was &quot;large&quot; or &quot;extra large&quot;
     &lt;#break&gt;
  &lt;#default&gt;
     Processed if animal.size is neither of the above
&lt;/#switch&gt;</pre>    </div>


          <p>Above examples are basically equivalent with this:</p>

          

    <div class="code-block role-template">
<div class="code-block-label">Template</div><pre class="code-block-body">&lt;#assign value = animal.size&gt;
&lt;#if value == &quot;small&quot;&gt;
   Processed if animal.size was &quot;small&quot; 
&lt;#elseif value == &quot;medium&quot;&gt;
   Processed if animal.size was &quot;medium&quot; 
&lt;#elseif value == &quot;large&quot; || value == &quot;extra large&quot;&gt;
   Processed if animal.size was &quot;large&quot; or &quot;extra large&quot;
&lt;#else&gt;
   Processed if animal.size is neither of the above
&lt;/#if&gt;</pre>    </div>


          <p>That is, when the <code class="inline-code">switch</code> directive is
          processed, it chooses an <code class="inline-code">on</code> or
          <code class="inline-code">case</code> directive where a
          <code class="inline-code"><em class="code-color">refValue</em></code> equals with
          <code class="inline-code"><em class="code-color">value</em></code>, and continues
          the processing of the template there. If there is no
          <code class="inline-code">on</code> or <code class="inline-code">case</code> directive with
          appropriate <code class="inline-code"><em class="code-color">refValue</em></code>,
          then it continues processing at the <code class="inline-code">default</code>
          directive, if that exists, otherwise it continues the processing
          after the end-tag of <code class="inline-code">switch</code>.</p>

          <p>Be careful with <code class="inline-code">case</code>&#39;s fall-through
          behavior! It means that after processing have jumped on the matching
          <code class="inline-code">case</code>, it will not leave the
          <code class="inline-code">switch</code> directive when it reaches another
          <code class="inline-code">case</code> or <code class="inline-code">default</code>, only when it
          reaches a <code class="inline-code">break</code>. Example:</p>

          

    <div class="code-block role-template">
<div class="code-block-label">Template</div><pre class="code-block-body">&lt;#switch x&gt;
  &lt;#case 1&gt;
    1
  &lt;#case 2&gt;
    2
  &lt;#default&gt;
    d
&lt;/#switch&gt;</pre>    </div>


          <p>If <code class="inline-code">x</code> is <code class="inline-code">1</code>, then it will
          print <code class="inline-code">1 2 d</code> (actually with more white-space
          between); if <code class="inline-code">x</code> is <code class="inline-code">2</code> then it
          will print <code class="inline-code">2 d</code>; if <code class="inline-code">x</code> is
          <code class="inline-code">3</code> then it will print <code class="inline-code">d</code>. This
          is usually unintended, or if it is intended then probably not
          obvious for the reader, and that&#39;s why <code class="inline-code">on</code> is
          recommended over <code class="inline-code">case</code>.</p>
        <div class="bottom-pagers-wrapper"><div class="pagers bottom"><a class="paging-arrow previous" href="ref_directive_stop.html"><span>Previous</span></a><a class="paging-arrow next" href="ref_directive_t.html"><span>Next</span></a></div></div></div></div>      </div>
    </div>
<div class="site-footer"><div class="site-width"><div class="footer-top"><div class="col-left sitemap"><div class="column"><h3 class="column-header">Overview</h3><ul><li><a href="https://freemarker.apache.org/">What is FreeMarker?</a></li><li><a href="https://freemarker.apache.org/freemarkerdownload.html">Download</a></li><li><a href="app_versions.html">Version history</a></li><li><a href="app_faq.html">FAQ</a></li><li><a itemprop="license" href="app_license.html">License</a></li><li><a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy policy</a></li></ul></div><div class="column"><h3 class="column-header">Often used / Reference</h3><ul><li><a href="https://try.freemarker.apache.org/">Try template online</a></li><li><a href="dgui_template_exp.html#exp_cheatsheet">Expressions cheatsheet</a></li><li><a href="ref_directive_alphaidx.html">#directives</a></li><li><a href="ref_builtins_alphaidx.html">?built_ins</a></li><li><a href="ref_specvar.html">.special_vars</a></li><li><a href="api/freemarker/core/Configurable.html#setSetting-java.lang.String-java.lang.String-">Configuration settings</a></li></ul></div><div class="column"><h3 class="column-header">Community</h3><ul><li><a href="https://github.com/apache/freemarker">Github project page</a></li><li><a href="https://issues.apache.org/jira/projects/FREEMARKER">Report a bug</a></li><li><a href="https://freemarker.apache.org/report-security-vulnerabilities.html">Report security vulnerability</a></li><li><a href="https://stackoverflow.com/questions/ask?tags=freemarker">Get help on StackOverflow</a></li><li><a href="https://twitter.com/freemarker">Announcements on Twitter</a></li><li><a href="https://freemarker.apache.org/mailing-lists.html">Discuss on mailing lists</a></li></ul></div></div><div class="col-right"><ul class="social-icons"><li><a class="github" href="https://github.com/apache/freemarker">Github</a></li><li><a class="twitter" href="https://twitter.com/freemarker">Twitter</a></li><li><a class="stack-overflow" href="https://stackoverflow.com/questions/ask?tags=freemarker">Stack Overflow</a></li></ul><a class="xxe" href="http://www.xmlmind.com/xmleditor/" rel="nofollow" title="Edited with XMLMind XML Editor"><span>Edited with XMLMind XML Editor</span></a></div></div><div class="footer-bottom"> <p class="last-generated">
Last generated:
<time itemprop="dateModified" datetime="2024-12-08T14:29:40Z" title="Sunday, December 8, 2024 at 2:29:40 PM Greenwich Mean Time">2024-12-08 14:29:40 GMT</time>, for Freemarker 2.3.34 </p>
<p class="copyright">
© <span itemprop="copyrightYear">1999</span>–2024
<a itemtype="http://schema.org/Organization" itemprop="copyrightHolder" href="https://apache.org/">The Apache Software Foundation</a>. Apache FreeMarker, FreeMarker, Apache Incubator, Apache, the Apache FreeMarker logo are trademarks of The Apache Software Foundation. All other marks mentioned may be trademarks or registered trademarks of their respective owners. </p>
</div></div></div></body>
</html>
