<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) -->
<title>MethodCallAwareTemplateHashModel (FreeMarker 2.3.34 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: freemarker.template, interface: MethodCallAwareTemplateHashModel">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">freemarker.template</a></div>
<h1 title="Interface MethodCallAwareTemplateHashModel" class="title">Interface MethodCallAwareTemplateHashModel</h1>
</div>
<section class="description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="TemplateHashModel.html" title="interface in freemarker.template">TemplateHashModel</a></code>, <code><a href="TemplateModel.html" title="interface in freemarker.template">TemplateModel</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../ext/beans/GenericObjectModel.html" title="class in freemarker.ext.beans">GenericObjectModel</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">MethodCallAwareTemplateHashModel</span><span class="extends-implements">
extends <a href="TemplateHashModel.html" title="interface in freemarker.template">TemplateHashModel</a></span></div>
<div class="block">Adds an extra getter method to <a href="TemplateHashModel.html" title="interface in freemarker.template"><code>TemplateHashModel</code></a> that can return different result than <a href="TemplateHashModel.html#get(java.lang.String)"><code>TemplateHashModel.get(String)</code></a>,
 knowing that the result of it will be called as a method. At least as of 2.3.33, this is only used by the
 template language for 0-argument method calls that are <em>directly</em> after the dot operator and the key (like in
 <code>obj.m()</code>, where the "()" is directly after the key "m"), or for the equivalent of that with square brackets
 (<code>obj["m"]()</code>).

 <p>Background knowledge needed to understand this: In the FreeMarker template language, methods/functions are
 first class values (just like strings, numbers,etc.). Also, unlike in Java, there's no separate namespace for
 methods, and for the other field-like members. When you have <code>obj.m()</code> in a template, first, the dot operator
 gets the value for the key "m", and after that, and independently of that, the method call operator tries to call
 that value (and if it's not a method or function, that will fail). The dot operator, before 2.3.33, was never aware
 of what the value it gets will be used for (like will it be called, will it be printed, etc.). Now it can be.

 For example, if in the template you have <code>someRecord.someComponent()</code>, and there <code>someRecord</code> was wrapped
 by the <a href="ObjectWrapper.html" title="interface in freemarker.template"><code>ObjectWrapper</code></a> into a <a href="TemplateHashModel.html" title="interface in freemarker.template"><code>TemplateHashModel</code></a> that also implements this interface, then the dot
 operator will call <a href="#getBeforeMethodCall(java.lang.String)"><code>getBeforeMethodCall("someComponent")</code></a>, rather than
 <a href="TemplateHashModel.html#get(java.lang.String)"><code>get("someComponent")</code></a>. This is needed to implement subtle features like
 <a href="../ext/beans/BeansWrapper.MethodAppearanceDecision.html#setMethodInsteadOfPropertyValueBeforeCall(boolean)"><code>BeansWrapper.MethodAppearanceDecision.setMethodInsteadOfPropertyValueBeforeCall(boolean)</code></a>,
 which is needed to implement
 <a href="../ext/beans/ZeroArgumentNonVoidMethodPolicy.html#BOTH_METHOD_AND_PROPERTY_UNLESS_BEAN_PROPERTY_READ_METHOD"><code>ZeroArgumentNonVoidMethodPolicy.BOTH_METHOD_AND_PROPERTY_UNLESS_BEAN_PROPERTY_READ_METHOD</code></a>.

 <p>While technically we could do the same for method calls with more the 0 arguments, as of 2.3.33 at least, we
 don't want to generalize this to that case. This is a workaround we added to address the issue with accessing
 components in Java records, which are 0-argument methods (see that at
 <a href="../ext/beans/BeansWrapper.MethodAppearanceDecision.html#setMethodInsteadOfPropertyValueBeforeCall(boolean)"><code>BeansWrapper.MethodAppearanceDecision.setMethodInsteadOfPropertyValueBeforeCall(boolean)</code></a>).

 <p>Objects wrapped with <a href="../ext/beans/BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a>, and hence with <a href="DefaultObjectWrapper.html" title="class in freemarker.template"><code>DefaultObjectWrapper</code></a>, will implement this
 interface when they are "generic" objects (that is, when they are not classes with special wrapper, like
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html" title="class or interface in java.util" class="external-link"><code>Map</code></a>-s, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Collection.html" title="class or interface in java.util" class="external-link"><code>Collection</code></a>-s, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Number.html" title="class or interface in java.lang" class="external-link"><code>Number</code></a>-s, etc.).</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.3.33</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested.class.summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Interface</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="MethodCallAwareTemplateHashModel.ShouldNotBeGetAsMethodException.html" title="class in freemarker.template">MethodCallAwareTemplateHashModel.ShouldNotBeGetAsMethodException</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">Thrown by <a href="#getBeforeMethodCall(java.lang.String)"><code>getBeforeMethodCall(String)</code></a>; see there.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.freemarker.template.TemplateModel">Fields inherited from interface&nbsp;freemarker.template.<a href="TemplateModel.html" title="interface in freemarker.template">TemplateModel</a></h3>
<code><a href="TemplateModel.html#NOTHING">NOTHING</a></code></div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="TemplateModel.html" title="interface in freemarker.template">TemplateModel</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getBeforeMethodCall(java.lang.String)">getBeforeMethodCall</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">This is called instead of <a href="TemplateHashModel.html#get(java.lang.String)"><code>TemplateHashModel.get(String)</code></a> if we know that the return value should be callable like a method.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.freemarker.template.TemplateHashModel">Methods inherited from interface&nbsp;freemarker.template.<a href="TemplateHashModel.html" title="interface in freemarker.template">TemplateHashModel</a></h3>
<code><a href="TemplateHashModel.html#get(java.lang.String)">get</a>, <a href="TemplateHashModel.html#isEmpty()">isEmpty</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getBeforeMethodCall(java.lang.String)">
<h3>getBeforeMethodCall</h3>
<div class="member-signature"><span class="return-type"><a href="TemplateModel.html" title="interface in freemarker.template">TemplateModel</a></span>&nbsp;<span class="element-name">getBeforeMethodCall</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;key)</span>
                           throws <span class="exceptions"><a href="TemplateModelException.html" title="class in freemarker.template">TemplateModelException</a>,
<a href="MethodCallAwareTemplateHashModel.ShouldNotBeGetAsMethodException.html" title="class in freemarker.template">MethodCallAwareTemplateHashModel.ShouldNotBeGetAsMethodException</a></span></div>
<div class="block">This is called instead of <a href="TemplateHashModel.html#get(java.lang.String)"><code>TemplateHashModel.get(String)</code></a> if we know that the return value should be callable like a method.
 The advantage of this is that we can coerce the value to a method when desirable, and otherwise can give
 a more specific error message in the resulting exception than the standard <a href="../core/NonMethodException.html" title="class in freemarker.core"><code>NonMethodException</code></a> would.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>key</code> - Same as for <a href="TemplateHashModel.html#get(java.lang.String)"><code>TemplateHashModel.get(String)</code></a></dd>
<dt>Returns:</dt>
<dd>Same as for <a href="TemplateHashModel.html#get(java.lang.String)"><code>TemplateHashModel.get(String)</code></a>, except it should return a <a href="TemplateMethodModel.html" title="interface in freemarker.template"><code>TemplateMethodModel</code></a>
      (a <a href="TemplateMethodModelEx.html" title="interface in freemarker.template"><code>TemplateMethodModelEx</code></a> if possible), or in very rare case a <code>Macro</code> that was created with
      the <code>function</code> directive. Or, <code>null</code> in the same case as
      <a href="TemplateHashModel.html#get(java.lang.String)"><code>TemplateHashModel.get(String)</code></a>. The method should never return something that's not callable in the template language
      as a method or function; the return type is <a href="TemplateModel.html" title="interface in freemarker.template"><code>TemplateModel</code></a> because that's the most specific common
      super-interface of <a href="TemplateMethodModel.html" title="interface in freemarker.template"><code>TemplateMethodModel</code></a>, and <code>Macro</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="MethodCallAwareTemplateHashModel.ShouldNotBeGetAsMethodException.html" title="class in freemarker.template">MethodCallAwareTemplateHashModel.ShouldNotBeGetAsMethodException</a></code> - If the value for the given key exists, but shouldn't be coerced to something callable as a method. This will
      be converted to <a href="../core/NonMethodException.html" title="class in freemarker.core"><code>NonMethodException</code></a> by the engine, but in this exception you can optionally give a
      more specific explanation, and that will be added to the resulting <a href="../core/NonMethodException.html" title="class in freemarker.core"><code>NonMethodException</code></a> as a hint to
      the user.</dd>
<dd><code><a href="TemplateModelException.html" title="class in freemarker.template">TemplateModelException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
