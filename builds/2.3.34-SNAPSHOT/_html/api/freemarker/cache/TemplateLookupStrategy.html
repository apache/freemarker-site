<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) -->
<title>TemplateLookupStrategy (FreeMarker 2.3.34-nightly API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: freemarker.cache, class: TemplateLookupStrategy">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">freemarker.cache</a></div>
<h1 title="Class TemplateLookupStrategy" class="title">Class TemplateLookupStrategy</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">freemarker.cache.TemplateLookupStrategy</div>
</div>
<section class="description">
<hr>
<div class="type-signature"><span class="modifiers">public abstract class </span><span class="element-name type-name-label">TemplateLookupStrategy</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Finds the <a href="TemplateLoader.html" title="interface in freemarker.cache"><code>TemplateLoader</code></a>-level (storage-level) template source for the template name with which the template
 was requested (as in <a href="../template/Configuration.html#getTemplate(java.lang.String)"><code>Configuration.getTemplate(String)</code></a>). This usually means trying various
 <a href="TemplateLoader.html" title="interface in freemarker.cache"><code>TemplateLoader</code></a>-level template names (so called source names; see also <a href="../template/Template.html#getSourceName()"><code>Template.getSourceName()</code></a>) that
 were deduced from the requested name. Trying a name usually means calling
 <a href="TemplateLookupContext.html#lookupWithAcquisitionStrategy(java.lang.String)"><code>TemplateLookupContext.lookupWithAcquisitionStrategy(String)</code></a> with it and checking the value of
 <a href="TemplateLookupResult.html#isPositive()"><code>TemplateLookupResult.isPositive()</code></a>.
 
 <p>
 Before you write your own lookup strategy, know that:
 <ul>
 <li>A template lookup strategy meant to operate solely with template names, not with <a href="TemplateLoader.html" title="interface in freemarker.cache"><code>TemplateLoader</code></a>-s
 directly. Basically, it's a mapping between the template names that templates and API-s like
 <a href="../template/Configuration.html#getTemplate(java.lang.String)"><code>Configuration.getTemplate(String)</code></a> see, and those that the underlying <a href="TemplateLoader.html" title="interface in freemarker.cache"><code>TemplateLoader</code></a> sees.
 <li>A template lookup strategy doesn't influence the template's name (<a href="../template/Template.html#getName()"><code>Template.getName()</code></a>), which is the
 normalized form of the template name as it was requested (with <a href="../template/Configuration.html#getTemplate(java.lang.String)"><code>Configuration.getTemplate(String)</code></a>, etc.). It
 only influences the so called source name of the template (<a href="../template/Template.html#getSourceName()"><code>Template.getSourceName()</code></a>). The template's name is
 used as the basis for resolving relative inclusions/imports in the template. The source name is pretty much only used
 in error messages as error location, and of course, to actually load the template "file".
 <li>Understand the impact of the last point if your template lookup strategy fiddles not only with the file name part
 of the template name, but also with the directory part. For example, one may want to map "foo.ftl" to "en/foo.ftl",
 "fr/foo.ftl", etc. That's legal, but the result is kind of like if you had several root directories ("en/", "fr/",
 etc.) that are layered over each other to form a single merged directory. (This is what's desirable in typical
 applications, yet it can be confusing.)
 </ul></div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.3.22</dd>
<dt>See Also:</dt>
<dd><a href="../template/Configuration.html#setTemplateLookupStrategy(freemarker.cache.TemplateLookupStrategy)"><code>Configuration.setTemplateLookupStrategy(TemplateLookupStrategy)</code></a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static <a href="TemplateLookupStrategy.html" title="class in freemarker.cache">TemplateLookupStrategy</a></code></div>
<div class="col-second even-row-color"><code><span class="member-name-link"><a href="#DEFAULT_2_3_0">DEFAULT_2_3_0</a></span></code></div>
<div class="col-last even-row-color">
<div class="block">
 The default lookup strategy of FreeMarker.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E()">TemplateLookupStrategy</a></span>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>abstract <a href="TemplateLookupResult.html" title="class in freemarker.cache">TemplateLookupResult</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#lookup(freemarker.cache.TemplateLookupContext)">lookup</a></span>&#8203;(<a href="TemplateLookupContext.html" title="class in freemarker.cache">TemplateLookupContext</a>&nbsp;ctx)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Finds the template source that matches the template name, locale (if not <code>null</code>) and other parameters
 specified in the <a href="TemplateLookupContext.html" title="class in freemarker.cache"><code>TemplateLookupContext</code></a>.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="DEFAULT_2_3_0">
<h3>DEFAULT_2_3_0</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type"><a href="TemplateLookupStrategy.html" title="class in freemarker.cache">TemplateLookupStrategy</a></span>&nbsp;<span class="element-name">DEFAULT_2_3_0</span></div>
<div class="block"><p>
 The default lookup strategy of FreeMarker.
 
 <p>
 Through an example: Assuming localized lookup is enabled and that a template is requested for the name
 <code>example.ftl</code> and <code>Locale("es", "ES", "Traditional_WIN")</code>, it will try the following template names,
 in this order: <code>"foo_en_AU_Traditional_WIN.ftl"</code>, <code>"foo_en_AU_Traditional.ftl"</code>,
 <code>"foo_en_AU.ftl"</code>, <code>"foo_en.ftl"</code>, <code>"foo.ftl"</code>. It stops at the first variation where it finds
 a template. (If the template name contains "*" steps, finding the template for the attempted localized variation
 happens with the template acquisition mechanism.) If localized lookup is disabled, it won't try to add any locale
 strings, so it just looks for <code>"foo.ftl"</code>.
 
 <p>
 The generation of the localized name variation with the default lookup strategy, happens like this: It removes
 the file extension (the part starting with the <em>last</em> dot), then appends <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Locale.html#toString()" title="class or interface in java.util" class="external-link"><code>Locale.toString()</code></a> after
 it, and puts back the extension. Then it starts to remove the parts from the end of the locale, considering
 <code>"_"</code> as the separator between the parts. It won't remove parts that are not part of the locale string
 (like if the requested template name is <code>foo_bar.ftl</code>, it won't remove the <code>"_bar"</code>).</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>TemplateLookupStrategy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">TemplateLookupStrategy</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="lookup(freemarker.cache.TemplateLookupContext)">
<h3>lookup</h3>
<div class="member-signature"><span class="modifiers">public abstract</span>&nbsp;<span class="return-type"><a href="TemplateLookupResult.html" title="class in freemarker.cache">TemplateLookupResult</a></span>&nbsp;<span class="element-name">lookup</span>&#8203;<span class="parameters">(<a href="TemplateLookupContext.html" title="class in freemarker.cache">TemplateLookupContext</a>&nbsp;ctx)</span>
                                     throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Finds the template source that matches the template name, locale (if not <code>null</code>) and other parameters
 specified in the <a href="TemplateLookupContext.html" title="class in freemarker.cache"><code>TemplateLookupContext</code></a>. See also the class-level <a href="TemplateLookupStrategy.html" title="class in freemarker.cache"><code>TemplateLookupStrategy</code></a>
 documentation to understand lookup strategies more.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ctx</code> - Contains the parameters for which the matching template need to be found, and operations that
            are needed to implement the strategy. Some of the important input parameters are:
            <a href="TemplateLookupContext.html#getTemplateName()"><code>TemplateLookupContext.getTemplateName()</code></a>, <a href="TemplateLookupContext.html#getTemplateLocale()"><code>TemplateLookupContext.getTemplateLocale()</code></a>.
            The most important operations are <a href="TemplateLookupContext.html#lookupWithAcquisitionStrategy(java.lang.String)"><code>TemplateLookupContext.lookupWithAcquisitionStrategy(String)</code></a>
            and <a href="TemplateLookupContext.html#createNegativeLookupResult()"><code>TemplateLookupContext.createNegativeLookupResult()</code></a>. (Note that you deliberately can't
            use <a href="TemplateLoader.html" title="interface in freemarker.cache"><code>TemplateLoader</code></a>-s directly to implement lookup.)</dd>
<dt>Returns:</dt>
<dd>Usually the return value of <a href="TemplateLookupContext.html#lookupWithAcquisitionStrategy(java.lang.String)"><code>TemplateLookupContext.lookupWithAcquisitionStrategy(String)</code></a>, or
         <code>TemplateLookupContext#createNegativeLookupResult()</code> if no matching template exists. Can't be
         <code>null</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
