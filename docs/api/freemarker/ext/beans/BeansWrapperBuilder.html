<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) -->
<title>BeansWrapperBuilder (FreeMarker 2.3.33 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: freemarker.ext.beans, class: BeansWrapperBuilder">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">freemarker.ext.beans</a></div>
<h1 title="Class BeansWrapperBuilder" class="title">Class BeansWrapperBuilder</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="BeansWrapperConfiguration.html" title="class in freemarker.ext.beans">freemarker.ext.beans.BeansWrapperConfiguration</a>
<div class="inheritance">freemarker.ext.beans.BeansWrapperBuilder</div>
</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link">Cloneable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">BeansWrapperBuilder</span>
<span class="extends-implements">extends <a href="BeansWrapperConfiguration.html" title="class in freemarker.ext.beans">BeansWrapperConfiguration</a></span></div>
<div class="block">Gets/creates a <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> singleton instance that's already configured as specified in the properties of
 this object; this is recommended over using the <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> constructors. The returned instance can't be
 further configured (it's write protected).
 
 <p>The builder meant to be used as a drop-away object (not stored in a field), like in this example: 
 <pre>
    BeansWrapper beansWrapper = new BeansWrapperBuilder(Configuration.VERSION_2_3_21).build();
 </pre>
 
 <p>Or, a more complex example:</p>
 <pre>
    // Create the builder:
    BeansWrapperBuilder builder = new BeansWrapperBuilder(Configuration.VERSION_2_3_21);
    // Set desired BeansWrapper configuration properties:
    builder.setUseModelCache(true);
    builder.setExposeFields(true);
    
    // Get the singleton:
    BeansWrapper beansWrapper = builder.build();
    // You don't need the builder anymore.
 </pre>
 
 <p>Despite that builders aren't meant to be used as long-lived objects (singletons), the builder is thread-safe after
 you have stopped calling its setters and it was safely published (see JSR 133) to other threads. This can be useful
 if you have to put the builder into an IoC container, rather than the singleton it produces.
 
 <p>The main benefit of using a builder instead of a <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> constructor is that this way the
 internal object wrapping-related caches (most notably the class introspection cache) will come from a global,
 JVM-level (more precisely, <code>freemarker.jar</code>-class-loader-level) cache. Also the <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> singletons
 themselves are stored in this global cache. Some of the wrapping-related caches are expensive to build and can take
 significant amount of memory. Using builders, components that use FreeMarker will share <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a>
 instances and said caches even if they use separate FreeMarker <a href="../../template/Configuration.html" title="class in freemarker.template"><code>Configuration</code></a>-s. (Many Java libraries use
 FreeMarker internally, so <a href="../../template/Configuration.html" title="class in freemarker.template"><code>Configuration</code></a> sharing is not an option.)
 
 <p>Note that the returned <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> instances are only weak-referenced from inside the builder mechanism,
 so singletons are garbage collected when they go out of usage, just like non-singletons.
 
 <p>About the object wrapping-related caches:
 <ul>
   <li><p>Class introspection cache: Stores information about classes that once had to be wrapped. The cache is
     stored in the static fields of certain FreeMarker classes. Thus, if you have two <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a>
     instances, they might share the same class introspection cache. But if you have two
     <code>freemarker.jar</code>-s (typically, in two Web Application's <code>WEB-INF/lib</code> directories), those won't
     share their caches (as they don't share the same FreeMarker classes).
     Also, currently there's a separate cache for each permutation of the property values that influence class
     introspection:
     <a href="BeansWrapperConfiguration.html#setExposeFields(boolean)"><code>expose_fields</code></a>, and
     <a href="BeansWrapperConfiguration.html#setExposureLevel(int)"><code>exposure_level</code></a>, and
     <a href="BeansWrapperConfiguration.html#setMemberAccessPolicy(freemarker.ext.beans.MemberAccessPolicy)"><code>BeansWrapperConfiguration.setMemberAccessPolicy(MemberAccessPolicy)</code></a>  member_access_policy}.
     So only <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> where those properties are the same may share class introspection caches among each
     other.
   </li>
   <li><p>Model caches: These are local to a <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a>. <a href="BeansWrapperBuilder.html" title="class in freemarker.ext.beans"><code>BeansWrapperBuilder</code></a> returns the same
     <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> instance for equivalent properties (unless the existing instance was garbage collected
     and thus a new one had to be created), hence these caches will be re-used too. <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> instances
     are cached in the static fields of FreeMarker too, but there's a separate cache for each
     Thread Context Class Loader, which in a servlet container practically means a separate cache for each Web
     Application (each servlet context). (This is like so because for resolving class names to classes FreeMarker
     uses the Thread Context Class Loader, so the result of the resolution can be different for different
     Thread Context Class Loaders.) The model caches are:
     <ul>
       <li><p>
         Static model caches: These are used by the hash returned by <a href="BeansWrapper.html#getEnumModels()"><code>BeansWrapper.getEnumModels()</code></a> and
         <a href="BeansWrapper.html#getStaticModels()"><code>BeansWrapper.getStaticModels()</code></a>, for caching <a href="../../template/TemplateModel.html" title="interface in freemarker.template"><code>TemplateModel</code></a>-s for the static methods/fields
         and Java enums that were accessed through them. To use said hashes, you have to put them
         explicitly into the data-model or expose them to the template explicitly otherwise, so in most applications
         these caches aren't unused.
       </li>
       <li><p>
         Instance model cache: By default off (see <a href="BeansWrapper.html#setUseCache(boolean)"><code>BeansWrapper.setUseCache(boolean)</code></a>). Caches the
         <a href="../../template/TemplateModel.html" title="interface in freemarker.template"><code>TemplateModel</code></a>-s for all Java objects that were accessed from templates.
       </li>
     </ul>
   </li>
 </ul>
 
 <p>Note that what this method documentation says about <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> also applies to
 <a href="../../template/DefaultObjectWrapperBuilder.html" title="class in freemarker.template"><code>DefaultObjectWrapperBuilder</code></a>.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.3.21</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E(freemarker.template.Version)">BeansWrapperBuilder</a></span>&#8203;(<a href="../../template/Version.html" title="class in freemarker.template">Version</a>&nbsp;incompatibleImprovements)</code></div>
<div class="col-last even-row-color">
<div class="block">See <a href="BeansWrapperConfiguration.html#%3Cinit%3E(freemarker.template.Version)"><code>BeansWrapperConfiguration(Version)</code></a>.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><a href="BeansWrapper.html" title="class in freemarker.ext.beans">BeansWrapper</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#build()">build</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table-tab4 method-summary-table">
<div class="block">Returns a <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> instance that matches the settings of this builder.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.freemarker.ext.beans.BeansWrapperConfiguration">Methods inherited from class&nbsp;freemarker.ext.beans.<a href="BeansWrapperConfiguration.html" title="class in freemarker.ext.beans">BeansWrapperConfiguration</a></h3>
<code><a href="BeansWrapperConfiguration.html#clone(boolean)">clone</a>, <a href="BeansWrapperConfiguration.html#equals(java.lang.Object)">equals</a>, <a href="BeansWrapperConfiguration.html#getDefaultDateType()">getDefaultDateType</a>, <a href="BeansWrapperConfiguration.html#getDefaultZeroArgumentNonVoidMethodPolicy()">getDefaultZeroArgumentNonVoidMethodPolicy</a>, <a href="BeansWrapperConfiguration.html#getExposeFields()">getExposeFields</a>, <a href="BeansWrapperConfiguration.html#getExposureLevel()">getExposureLevel</a>, <a href="BeansWrapperConfiguration.html#getIncompatibleImprovements()">getIncompatibleImprovements</a>, <a href="BeansWrapperConfiguration.html#getMemberAccessPolicy()">getMemberAccessPolicy</a>, <a href="BeansWrapperConfiguration.html#getMethodAppearanceFineTuner()">getMethodAppearanceFineTuner</a>, <a href="BeansWrapperConfiguration.html#getOuterIdentity()">getOuterIdentity</a>, <a href="BeansWrapperConfiguration.html#getPreferIndexedReadMethod()">getPreferIndexedReadMethod</a>, <a href="BeansWrapperConfiguration.html#getRecordZeroArgumentNonVoidMethodPolicy()">getRecordZeroArgumentNonVoidMethodPolicy</a>, <a href="BeansWrapperConfiguration.html#getTreatDefaultMethodsAsBeanMembers()">getTreatDefaultMethodsAsBeanMembers</a>, <a href="BeansWrapperConfiguration.html#getUseModelCache()">getUseModelCache</a>, <a href="BeansWrapperConfiguration.html#hashCode()">hashCode</a>, <a href="BeansWrapperConfiguration.html#isSimpleMapWrapper()">isSimpleMapWrapper</a>, <a href="BeansWrapperConfiguration.html#isStrict()">isStrict</a>, <a href="BeansWrapperConfiguration.html#setDefaultDateType(int)">setDefaultDateType</a>, <a href="BeansWrapperConfiguration.html#setDefaultZeroArgumentNonVoidMethodPolicy(freemarker.ext.beans.ZeroArgumentNonVoidMethodPolicy)">setDefaultZeroArgumentNonVoidMethodPolicy</a>, <a href="BeansWrapperConfiguration.html#setExposeFields(boolean)">setExposeFields</a>, <a href="BeansWrapperConfiguration.html#setExposureLevel(int)">setExposureLevel</a>, <a href="BeansWrapperConfiguration.html#setMemberAccessPolicy(freemarker.ext.beans.MemberAccessPolicy)">setMemberAccessPolicy</a>, <a href="BeansWrapperConfiguration.html#setMethodAppearanceFineTuner(freemarker.ext.beans.MethodAppearanceFineTuner)">setMethodAppearanceFineTuner</a>, <a href="BeansWrapperConfiguration.html#setOuterIdentity(freemarker.template.ObjectWrapper)">setOuterIdentity</a>, <a href="BeansWrapperConfiguration.html#setPreferIndexedReadMethod(boolean)">setPreferIndexedReadMethod</a>, <a href="BeansWrapperConfiguration.html#setRecordZeroArgumentNonVoidMethodPolicy(freemarker.ext.beans.ZeroArgumentNonVoidMethodPolicy)">setRecordZeroArgumentNonVoidMethodPolicy</a>, <a href="BeansWrapperConfiguration.html#setSimpleMapWrapper(boolean)">setSimpleMapWrapper</a>, <a href="BeansWrapperConfiguration.html#setStrict(boolean)">setStrict</a>, <a href="BeansWrapperConfiguration.html#setTreatDefaultMethodsAsBeanMembers(boolean)">setTreatDefaultMethodsAsBeanMembers</a>, <a href="BeansWrapperConfiguration.html#setUseModelCache(boolean)">setUseModelCache</a></code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(freemarker.template.Version)">
<h3>BeansWrapperBuilder</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">BeansWrapperBuilder</span>&#8203;<span class="parameters">(<a href="../../template/Version.html" title="class in freemarker.template">Version</a>&nbsp;incompatibleImprovements)</span></div>
<div class="block">See <a href="BeansWrapperConfiguration.html#%3Cinit%3E(freemarker.template.Version)"><code>BeansWrapperConfiguration(Version)</code></a>.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="build()">
<h3>build</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="BeansWrapper.html" title="class in freemarker.ext.beans">BeansWrapper</a></span>&nbsp;<span class="element-name">build</span>()</div>
<div class="block">Returns a <a href="BeansWrapper.html" title="class in freemarker.ext.beans"><code>BeansWrapper</code></a> instance that matches the settings of this builder. This will be possibly a
 singleton that is also in use elsewhere, not necessarily a new object.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
