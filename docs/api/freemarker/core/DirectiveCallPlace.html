<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) -->
<title>DirectiveCallPlace (FreeMarker 2.3.33 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: freemarker.core, interface: DirectiveCallPlace">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">freemarker.core</a></div>
<h1 title="Interface DirectiveCallPlace" class="title">Interface DirectiveCallPlace</h1>
</div>
<section class="description">
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">DirectiveCallPlace</span></div>
<div class="block">Gives information about the place where a directive is called from, also lets you attach a custom data object to that
 place. Each directive call in a template has its own <a href="DirectiveCallPlace.html" title="interface in freemarker.core"><code>DirectiveCallPlace</code></a> object (even when they call the same
 directive with the same parameters). The life cycle of the <a href="DirectiveCallPlace.html" title="interface in freemarker.core"><code>DirectiveCallPlace</code></a> object is bound to the
 <a href="../template/Template.html" title="class in freemarker.template"><code>Template</code></a> object that contains the directive call. Hence, the <a href="DirectiveCallPlace.html" title="interface in freemarker.core"><code>DirectiveCallPlace</code></a> object and the custom
 data you put into it is cached together with the <a href="../template/Template.html" title="class in freemarker.template"><code>Template</code></a> (and templates are normally cached - see
 <a href="../template/Configuration.html#getTemplate(java.lang.String)"><code>Configuration.getTemplate(String)</code></a>). The custom data is normally initialized on demand, that is, when the
 directive call is first executed, via <a href="#getOrCreateCustomData(java.lang.Object,freemarker.template.utility.ObjectFactory)"><code>getOrCreateCustomData(Object, ObjectFactory)</code></a>.
 
 <p>
 <b>Don't implement this interface yourself</b>, as new methods can be added to it any time! It's only meant to be
 implemented by the FreeMarker core.
 
 <p>
 This interface is currently only used for custom directive calls (that is, a <code>&lt;@...&gt;</code> that calls a
 <a href="../template/TemplateDirectiveModel.html" title="interface in freemarker.template"><code>TemplateDirectiveModel</code></a>, <a href="../template/TemplateTransformModel.html" title="interface in freemarker.template"><code>TemplateTransformModel</code></a>, or a macro).</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.3.22</dd>
<dt>See Also:</dt>
<dd><a href="Environment.html#getCurrentDirectiveCallPlace()"><code>Environment.getCurrentDirectiveCallPlace()</code></a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getBeginColumn()">getBeginColumn</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">The 1-based column number of the first character of the directive call in the template source code, or -1 if it's
 not known.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getBeginLine()">getBeginLine</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">The 1-based line number of the first character of the directive call in the template source code, or -1 if it's
 not known.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>int</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getEndColumn()">getEndColumn</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">The 1-based column number of the last character of the directive call in the template source code, or -1 if it's
 not known.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getEndLine()">getEndLine</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">The 1-based line number of the last character of the directive call in the template source code, or -1 if it's
 not known.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getOrCreateCustomData(java.lang.Object,freemarker.template.utility.ObjectFactory)">getOrCreateCustomData</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;providerIdentity,
 <a href="../template/utility/ObjectFactory.html" title="interface in freemarker.template.utility">ObjectFactory</a>&nbsp;objectFactory)</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Returns the custom data, or if that's <code>null</code>, then it creates and stores it in an atomic operation then
 returns it.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><a href="../template/Template.html" title="class in freemarker.template">Template</a></code></div>
<div class="col-second odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#getTemplate()">getTemplate</a></span>()</code></div>
<div class="col-last odd-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">The template that contains this call; <code>null</code> if the call is not from a template (but directly from
 user Java code, for example).</div>
</div>
<div class="col-first even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3"><code><span class="member-name-link"><a href="#isNestedOutputCacheable()">isNestedOutputCacheable</a></span>()</code></div>
<div class="col-last even-row-color method-summary-table-tab2 method-summary-table method-summary-table-tab3">
<div class="block">Tells if the nested content (the body) can be safely cached, as it only depends on the template content (not on
 variable values and such) and has no side-effects (other than writing to the output).</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getTemplate()">
<h3>getTemplate</h3>
<div class="member-signature"><span class="return-type"><a href="../template/Template.html" title="class in freemarker.template">Template</a></span>&nbsp;<span class="element-name">getTemplate</span>()</div>
<div class="block">The template that contains this call; <code>null</code> if the call is not from a template (but directly from
 user Java code, for example).</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.3.28</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBeginColumn()">
<h3>getBeginColumn</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getBeginColumn</span>()</div>
<div class="block">The 1-based column number of the first character of the directive call in the template source code, or -1 if it's
 not known.</div>
</section>
</li>
<li>
<section class="detail" id="getBeginLine()">
<h3>getBeginLine</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getBeginLine</span>()</div>
<div class="block">The 1-based line number of the first character of the directive call in the template source code, or -1 if it's
 not known.</div>
</section>
</li>
<li>
<section class="detail" id="getEndColumn()">
<h3>getEndColumn</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getEndColumn</span>()</div>
<div class="block">The 1-based column number of the last character of the directive call in the template source code, or -1 if it's
 not known. If the directive has an end-tag (<code>&lt;/@...&gt;</code>), then it points to the last character of that.</div>
</section>
</li>
<li>
<section class="detail" id="getEndLine()">
<h3>getEndLine</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getEndLine</span>()</div>
<div class="block">The 1-based line number of the last character of the directive call in the template source code, or -1 if it's
 not known. If the directive has an end-tag (<code>&lt;/@...&gt;</code>), then it points to the last character of that.</div>
</section>
</li>
<li>
<section class="detail" id="getOrCreateCustomData(java.lang.Object,freemarker.template.utility.ObjectFactory)">
<h3>getOrCreateCustomData</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getOrCreateCustomData</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;providerIdentity,
 <a href="../template/utility/ObjectFactory.html" title="interface in freemarker.template.utility">ObjectFactory</a>&nbsp;objectFactory)</span>
                      throws <span class="exceptions"><a href="CallPlaceCustomDataInitializationException.html" title="class in freemarker.core">CallPlaceCustomDataInitializationException</a></span></div>
<div class="block">Returns the custom data, or if that's <code>null</code>, then it creates and stores it in an atomic operation then
 returns it. This method is thread-safe, however, it doesn't ensure thread safe (like synchronized) access to the
 custom data itself. See the top-level documentation of <a href="DirectiveCallPlace.html" title="interface in freemarker.core"><code>DirectiveCallPlace</code></a> to understand the scope and
 life-cycle of the custom data. Be sure that the custom data only depends on things that get their final value
 during template parsing, not on runtime settings.
 
 <p>
 This method will block other calls while the <code>objectFactory</code> is executing, thus, the object will be
 <em>usually</em> created only once, even if multiple threads request the value when it's still <code>null</code>. It
 doesn't stand though when <code>providerIdentity</code> mismatches occur (see later). Furthermore, then it's also
 possible that multiple objects created by the same <a href="../template/utility/ObjectFactory.html" title="interface in freemarker.template.utility"><code>ObjectFactory</code></a> will be in use on the same time, because
 of directive executions already running in parallel, and because of memory synchronization delays (hardware
 dependent) between the threads.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>providerIdentity</code> - This is usually the class of the <a href="../template/TemplateDirectiveModel.html" title="interface in freemarker.template"><code>TemplateDirectiveModel</code></a> that creates (and uses) the custom
            data, or if you are using your own class for the custom data object (as opposed to a class from some
            more generic API), then that class. This is needed as the same call place might calls different
            directives depending on runtime conditions, and so it must be ensured that these directives won't
            accidentally read each other's custom data, ending up with class cast exceptions or worse. In the
            current implementation, if there's a <code>providerIdentity</code> mismatch (means, the
            <code>providerIdentity</code> object used when the custom data was last set isn't the exactly same object
            as the one provided with the parameter now), the previous custom data will be just ignored as if it
            was <code>null</code>. So if multiple directives that use the custom data feature use the same call place,
            the caching of the custom data can be inefficient, as they will keep overwriting each other's custom
            data. (In a more generic implementation the <code>providerIdentity</code> would be a key in a
            <a href="../ext/util/IdentityHashMap.html" title="class in freemarker.ext.util"><code>IdentityHashMap</code></a>, but then this feature would be slower, while <code>providerIdentity</code>
            mismatches aren't occurring in most applications.)</dd>
<dd><code>objectFactory</code> - Called when the custom data wasn't yet set, to create its initial value. If this parameter is
            <code>null</code> and the custom data wasn't set yet, then <code>null</code> will be returned. The returned
            value of <a href="../template/utility/ObjectFactory.html#createObject()"><code>ObjectFactory.createObject()</code></a> can be any kind of object, but can't be <code>null</code>.</dd>
<dt>Returns:</dt>
<dd>The current custom data object, or possibly <code>null</code> if there was no <a href="../template/utility/ObjectFactory.html" title="interface in freemarker.template.utility"><code>ObjectFactory</code></a> provided.</dd>
<dt>Throws:</dt>
<dd><code><a href="CallPlaceCustomDataInitializationException.html" title="class in freemarker.core">CallPlaceCustomDataInitializationException</a></code> - If the <a href="../template/utility/ObjectFactory.html" title="interface in freemarker.template.utility"><code>ObjectFactory</code></a> had to be invoked but failed.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isNestedOutputCacheable()">
<h3>isNestedOutputCacheable</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isNestedOutputCacheable</span>()</div>
<div class="block">Tells if the nested content (the body) can be safely cached, as it only depends on the template content (not on
 variable values and such) and has no side-effects (other than writing to the output). Examples of cases that give
 <code>false</code>: <code>&lt;@foo&gt;Name: </code> <code>${name}</code><code>&lt;/@foo&gt;</code>,
 <code>&lt;@foo&gt;Name: &lt;#if showIt&gt;Joe&lt;/#if&gt;&lt;/@foo&gt;</code>. Examples of cases that give <code>true</code>:
 <code>&lt;@foo&gt;Name: Joe&lt;/@foo&gt;</code>, <code>&lt;@foo /&gt;</code>. Note that we get <code>true</code> for no nested content, because
 that's equivalent with 0-length nested content in FTL.
 
 <p>
 This method returns a pessimistic result. For example, if it sees a custom directive call, it can't know what it
 does, so it will assume that it's not cacheable.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
